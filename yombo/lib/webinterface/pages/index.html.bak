{% extends "lib/webinterface/fragments/layout.tpl" %}
{% block head_css %}{% include 'lib/webinterface/fragments/echarts_js.tpl' %}{% endblock %}

{% block content %}
            <div class="row">
                <div cass="col-lg-12 col-md-12">
                    <h1 class="page-header">Dashboard</h1>
                </div>
                <!-- /.col-lg-12 -->
            </div>
            <!-- /.row -->
            <div class="row">
                <div class="col-lg-3 col-md-3">
                    <div class="panel panel-info">
                        <div class="panel-heading">
                            <div class="row" onclick="location.href='/devices/index';">
                                <div class="col-xs-3">
                                    <i class="fa fa-wifi fa-3x"></i>
                                </div>
                                <div class="col-xs-9 text-right">
                                    <div class="large">{{ devices|length }}</div>
                                    <div class="medium">Devices<br>&nbsp;</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-3">
                    <div class="panel panel-warning">
                        <div class="panel-heading">
                            <div class="row" onclick="location.href='/automation/index';">
                                <div class="col-xs-3">
                                    <i class="fa fa-random fa-3x"></i>
                                </div>
                                <div class="col-xs-9 text-right">
                                    <div class="large">{{ automation_rules }}</div>
                                    <div class="medium">Automation<br>Rules</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-3">
                    <div class="panel panel-warning">
                        <div class="panel-heading">
                            <div class="row" onclick="location.href='/devices/delayed_commands';">
                                <div class="col-xs-3">
                                    <i class="fa fa-cogs fa-3x"></i>
                                </div>
                                <div class="col-xs-9 text-right">
                                    <div class="large">{{ delay_commands|length }}</div>
                                    <div class="medium">Delayed<br>Commands</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-3">
                    <div class="panel panel-warning">
                        <div class="panel-heading">
                            <div class="row" onclick="location.href='/states/index';">
                                <div class="col-xs-3">
                                    <i class="fa fa-list fa-3x"></i>
                                </div>
                                <div class="col-xs-9 text-right">
                                    <div class="large">13</div>
                                    <div class="medium">States<br>&nbsp;</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /.row -->
            <div class="row">
                <div class="col-lg-6 col-md-6">
                    hi: {{ _('hello') }}
    <div id="main" style="width: 100%;height:400px;"></div>
    <script type="text/javascript">
        var myChart = echarts.init(document.getElementById('main'));

        var option = {
            title: {
                text: 'Commands Sent'
            },
            tooltip: {},
            legend: {
                data:['销量']
            },
    toolbox: {
        show : true,
        feature : {
            mark : {
                show: false,
                title : {
                    mark : 'Mark',
                    markUndo : 'Undo Mark',
                    markClear : 'Clear Mark'
                    }
            },
    dataZoom : {
        show : true,
        title : {
            zoom : 'Select Zoom',
            back : 'Reset Zoom'
        }
    },
            dataView : {show: true, title: 'View'},
    magicType: {
        show : true,
        type: ['line', 'bar'],
        title : {
            line : 'Line chart',
            bar : 'Bar chart',
            stack : 'Stack',
            tiled : 'Tiled',
            force: 'Forced',
            chord: 'Chord',
            pie: 'Pine',
            funnel: 'Funnel'
        }
        },
    restore : {
        show : true,
        title : 'Restore'
    },
    saveAsImage : {
        show : true,
        title : 'Save as image',
        type : 'png',
        lang : ['Save as image']
    }
        }
    },
        dataZoom : {
        show : true,
        realtime : true,
        start : 1,
        end : 80
    },
            xAxis: {
                data: ["1","2","3","4","5","6","7", "8", "9", "10", "11", "12"]
            },
            yAxis: {},
            series: [{
                name: 'something',
                type: 'bar',
                data: [5, 20, 36, 10, 10, 20, 3, 6, 15, 18, 12]
            }]
        };

        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
    </script>
                </div>
                <div class="col-lg-6 col-md-6">

                </div>
                <!-- /.col-lg-12 -->
            </div>
            <!-- /.row -->
{% endblock %}
